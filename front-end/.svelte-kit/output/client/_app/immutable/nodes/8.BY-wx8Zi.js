import{s as Ve,x as Ie,i as _e,d as m,H as Me,y as Ce,e as c,v as pe,c as u,k as v,w as ve,m as s,F as Se,n as Te,z as k,A as w,g as W,a,B as j,C as Y,D as fe,E as Le,G as Ne}from"../chunks/scheduler.BxOO2Wxk.js";import{S as Ae,i as He,a as B,e as Oe,t as F,g as Pe,c as Z,b as ee,m as te,d as ae}from"../chunks/index.dKgiUWrV.js";import{N as je}from"../chunks/note-store.DKFsZEWf.js";import{S as me}from"../chunks/SvelteMarkdown.Bj8nW6U6.js";import{P as Be}from"../chunks/Pencil.BLAlQsXI.js";function Fe({params:p}){return{id:p.id}}const We=Object.freeze(Object.defineProperty({__proto__:null,load:Fe},Symbol.toStringTag,{value:"Module"}));function ze(p){let e,t,l=p[0].id+"",i;return{c(){e=c("h2"),t=pe("No se encontro la nota con id: "),i=pe(l)},l(o){e=u(o,"H2",{});var d=v(e);t=ve(d,"No se encontro la nota con id: "),i=ve(d,l),d.forEach(m)},m(o,d){_e(o,e,d),s(e,t),s(e,i)},p(o,d){d&1&&l!==(l=o[0].id+"")&&Se(i,l)},i:Te,o:Te,d(o){o&&m(e)}}}function Ue(p){let e,t,l,i,o,d,y,n,_,r,E,se,x,ne,H,D,oe,$,O,I,N,he='<h5 class="modal-title" id="exampleModalLabel">Add note</h5>',le,T,V,M,C,be="Title",re,b,ie,S,L,ge="Content",de,g,ce,A,ye='<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button> <button type="submit" class="btn btn-primary" data-bs-dismiss="modal">Save changes</button>',U,ue,Ee;return i=new Be({}),E=new me({props:{source:p[3]}}),x=new me({props:{source:p[1].title}}),D=new me({props:{source:p[1].content}}),{c(){e=c("div"),t=c("button"),l=c("div"),Z(i.$$.fragment),o=pe(`
                Edit note`),d=k(),y=c("div"),n=c("div"),_=c("div"),r=c("div"),Z(E.$$.fragment),se=k(),Z(x.$$.fragment),ne=k(),H=c("div"),Z(D.$$.fragment),oe=k(),$=c("div"),O=c("div"),I=c("div"),N=c("div"),N.innerHTML=he,le=k(),T=c("form"),V=c("div"),M=c("div"),C=c("label"),C.textContent=be,re=k(),b=c("input"),ie=k(),S=c("div"),L=c("label"),L.textContent=ge,de=k(),g=c("textarea"),ce=k(),A=c("div"),A.innerHTML=ye,this.h()},l(f){e=u(f,"DIV",{class:!0});var h=v(e);t=u(h,"BUTTON",{type:!0,class:!0,"data-bs-toggle":!0,"data-bs-target":!0});var z=v(t);l=u(z,"DIV",{class:!0});var P=v(l);ee(i.$$.fragment,P),o=ve(P,`
                Edit note`),P.forEach(m),z.forEach(m),d=w(h),y=u(h,"DIV",{});var $e=v(y);n=u($e,"DIV",{class:!0,style:!0});var J=v(n);_=u(J,"DIV",{class:!0});var ke=v(_);r=u(ke,"DIV",{class:!0});var R=v(r);ee(E.$$.fragment,R),se=w(R),ee(x.$$.fragment,R),R.forEach(m),ke.forEach(m),ne=w(J),H=u(J,"DIV",{class:!0});var we=v(H);ee(D.$$.fragment,we),we.forEach(m),J.forEach(m),$e.forEach(m),oe=w(h),$=u(h,"DIV",{class:!0,id:!0,tabindex:!0,"aria-labelledby":!0,"aria-hidden":!0});var xe=v($);O=u(xe,"DIV",{class:!0});var De=v(O);I=u(De,"DIV",{class:!0});var q=v(I);N=u(q,"DIV",{class:!0,"data-svelte-h":!0}),W(N)!=="svelte-199480u"&&(N.innerHTML=he),le=w(q),T=u(q,"FORM",{});var G=v(T);V=u(G,"DIV",{class:!0});var X=v(V);M=u(X,"DIV",{class:!0});var K=v(M);C=u(K,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),W(C)!=="svelte-ptpgsi"&&(C.textContent=be),re=w(K),b=u(K,"INPUT",{type:!0,style:!0,class:!0,id:!0,placeholder:!0}),K.forEach(m),ie=w(X),S=u(X,"DIV",{class:!0});var Q=v(S);L=u(Q,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),W(L)!=="svelte-1mmspfi"&&(L.textContent=ge),de=w(Q),g=u(Q,"TEXTAREA",{style:!0,class:!0,id:!0,rows:!0,placeholder:!0}),v(g).forEach(m),Q.forEach(m),X.forEach(m),ce=w(G),A=u(G,"DIV",{class:!0,"data-svelte-h":!0}),W(A)!=="svelte-1nb1izu"&&(A.innerHTML=ye),G.forEach(m),q.forEach(m),De.forEach(m),xe.forEach(m),h.forEach(m),this.h()},h(){a(l,"class","d-flex align-items-center"),a(t,"type","button"),a(t,"class","btn btn-primary"),a(t,"data-bs-toggle","modal"),a(t,"data-bs-target","#exampleModal"),a(r,"class","d-flex align-items-center"),a(_,"class","card-header"),a(H,"class","card-body"),a(n,"class","card bg-secondary mb-3"),j(n,"max-width","900px"),j(n,"max-height","800px"),j(n,"min-width","720px"),j(n,"min-height","400px"),a(N,"class","modal-header"),a(C,"for","title"),a(C,"class","form-label"),a(b,"type","text"),j(b,"color","black"),a(b,"class","form-control"),a(b,"id","title"),a(b,"placeholder","Type in Markdown"),a(M,"class","mb-3"),a(L,"for","content"),a(L,"class","form-label"),j(g,"color","black"),a(g,"class","form-control"),a(g,"id","content"),a(g,"rows","10"),a(g,"placeholder","Type in Markdown"),a(S,"class","mb-3"),a(V,"class","modal-body"),a(A,"class","modal-footer"),a(I,"class","modal-content"),a(O,"class","modal-dialog"),a($,"class","modal fade"),a($,"id","exampleModal"),a($,"tabindex","-1"),a($,"aria-labelledby","exampleModalLabel"),a($,"aria-hidden","true"),a(e,"class","container-md")},m(f,h){_e(f,e,h),s(e,t),s(t,l),te(i,l,null),s(l,o),s(e,d),s(e,y),s(y,n),s(n,_),s(_,r),te(E,r,null),s(r,se),te(x,r,null),s(n,ne),s(n,H),te(D,H,null),s(e,oe),s(e,$),s($,O),s(O,I),s(I,N),s(I,le),s(I,T),s(T,V),s(V,M),s(M,C),s(M,re),s(M,b),Y(b,p[1].title),s(V,ie),s(V,S),s(S,L),s(S,de),s(S,g),Y(g,p[1].content),s(T,ce),s(T,A),U=!0,ue||(Ee=[fe(b,"input",p[4]),fe(g,"input",p[5]),fe(T,"submit",Le(p[2]))],ue=!0)},p(f,h){const z={};h&2&&(z.source=f[1].title),x.$set(z);const P={};h&2&&(P.source=f[1].content),D.$set(P),h&2&&b.value!==f[1].title&&Y(b,f[1].title),h&2&&Y(g,f[1].content)},i(f){U||(F(i.$$.fragment,f),F(E.$$.fragment,f),F(x.$$.fragment,f),F(D.$$.fragment,f),U=!0)},o(f){B(i.$$.fragment,f),B(E.$$.fragment,f),B(x.$$.fragment,f),B(D.$$.fragment,f),U=!1},d(f){f&&m(e),ae(i),ae(E),ae(x),ae(D),ue=!1,Ne(Ee)}}}function Je(p){let e,t,l,i;const o=[Ue,ze],d=[];function y(n,_){return n[1]?0:1}return e=y(p),t=d[e]=o[e](p),{c(){t.c(),l=Ie()},l(n){t.l(n),l=Ie()},m(n,_){d[e].m(n,_),_e(n,l,_),i=!0},p(n,[_]){let r=e;e=y(n),e===r?d[e].p(n,_):(Pe(),B(d[r],1,1,()=>{d[r]=null}),Oe(),t=d[e],t?t.p(n,_):(t=d[e]=o[e](n),t.c()),F(t,1),t.m(l.parentNode,l))},i(n){i||(F(t),i=!0)},o(n){B(t),i=!1},d(n){n&&m(l),d[e].d(n)}}}function Re(p,e,t){let l;Me(p,je,r=>t(6,l=r));let{data:i}=e,o;Ce(async function(){if(l.length)t(1,o=l.find(r=>r.id==i.id));else{const r=`http://localhost:8000/notes/${i.id}/`;let E=await fetch(r);E.status==200?t(1,o=await E.json()):t(1,o=null)}});async function d(){console.log(JSON.stringify(o));try{(await fetch(`http://127.0.0.1:8000/notes/${o.id}/`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)})).ok?console.log("Form submitted successfully!"):console.error("Failed to submit form")}catch(r){console.error("An error occurred while submitting the form:",r)}}const y="# Title:";function n(){o.title=this.value,t(1,o)}function _(){o.content=this.value,t(1,o)}return p.$$set=r=>{"data"in r&&t(0,i=r.data)},[i,o,d,y,n,_]}class Ye extends Ae{constructor(e){super(),He(this,e,Re,Je,Ve,{data:0})}}export{Ye as component,We as universal};
