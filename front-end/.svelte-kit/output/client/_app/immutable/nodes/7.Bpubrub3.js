import{s as ue,e as v,z as x,c as _,k as I,g as G,A,d as b,a as l,B as ae,C as z,M as Oe,i as j,m as d,N as ve,D as K,E as Ce,n as Q,O as fe,G as De,y as Me,v as re,w as ie,F as Ve,P as Se,H as _e}from"../chunks/scheduler.BxOO2Wxk.js";import{S as he,i as pe,c as ee,b as te,m as oe,a as R,e as be,t as F,d as le,g as me}from"../chunks/index.dKgiUWrV.js";import{e as Y}from"../chunks/marked.esm.ubRjD-Zf.js";import{N as ge}from"../chunks/note-store.DKFsZEWf.js";import{g as Ne}from"../chunks/entry._9W_0XD-.js";import{w as Le}from"../chunks/index.CmgL7U1m.js";import{S as xe}from"../chunks/SvelteMarkdown.Bj8nW6U6.js";import{P as ke}from"../chunks/Plus.OLYl-RqZ.js";function ye(c,e,a){const t=c.slice();return t[9]=e[a],t}function $e(c){let e,a=c[9].name+"",t,s;return{c(){e=v("option"),t=re(a),this.h()},l(i){e=_(i,"OPTION",{});var o=I(e);t=ie(o,a),o.forEach(b),this.h()},h(){e.__value=s=c[9].id,z(e,e.__value)},m(i,o){j(i,e,o),d(e,t)},p(i,o){o&8&&a!==(a=i[9].name+"")&&Ve(t,a),o&8&&s!==(s=i[9].id)&&(e.__value=s,z(e,e.__value))},d(i){i&&b(e)}}}function Ae(c){let e,a,t='<h5 class="modal-title" id="exampleModalLabel">Add note</h5>',s,i,o,r,n,h="Title",$,u,k,w,E,V="Content",y,T,m,f,g,O="Notebooks",B,M,L,H="Open to select a notebook",W,p,N='<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button> <button type="submit" class="btn btn-primary" data-bs-dismiss="modal">Save changes</button>',J,Z,q=Y(c[3]),S=[];for(let C=0;C<q.length;C+=1)S[C]=$e(ye(c,q,C));return{c(){e=v("div"),a=v("div"),a.innerHTML=t,s=x(),i=v("form"),o=v("div"),r=v("div"),n=v("label"),n.textContent=h,$=x(),u=v("input"),k=x(),w=v("div"),E=v("label"),E.textContent=V,y=x(),T=v("textarea"),m=x(),f=v("div"),g=v("label"),g.textContent=O,B=x(),M=v("select"),L=v("option"),L.textContent=H;for(let C=0;C<S.length;C+=1)S[C].c();W=x(),p=v("div"),p.innerHTML=N,this.h()},l(C){e=_(C,"DIV",{});var P=I(e);a=_(P,"DIV",{class:!0,"data-svelte-h":!0}),G(a)!=="svelte-1bpleou"&&(a.innerHTML=t),s=A(P),i=_(P,"FORM",{});var D=I(i);o=_(D,"DIV",{class:!0});var U=I(o);r=_(U,"DIV",{class:!0});var X=I(r);n=_(X,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),G(n)!=="svelte-ptpgsi"&&(n.textContent=h),$=A(X),u=_(X,"INPUT",{type:!0,style:!0,class:!0,id:!0,placeholder:!0}),X.forEach(b),k=A(U),w=_(U,"DIV",{class:!0});var ne=I(w);E=_(ne,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),G(E)!=="svelte-1mmspfi"&&(E.textContent=V),y=A(ne),T=_(ne,"TEXTAREA",{style:!0,class:!0,id:!0,rows:!0,placeholder:!0}),I(T).forEach(b),ne.forEach(b),m=A(U),f=_(U,"DIV",{class:!0});var se=I(f);g=_(se,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),G(g)!=="svelte-1lxva9j"&&(g.textContent=O),B=A(se),M=_(se,"SELECT",{class:!0,style:!0,"aria-label":!0});var ce=I(M);L=_(ce,"OPTION",{"data-svelte-h":!0}),G(L)!=="svelte-l4blkg"&&(L.textContent=H);for(let de=0;de<S.length;de+=1)S[de].l(ce);ce.forEach(b),se.forEach(b),U.forEach(b),W=A(D),p=_(D,"DIV",{class:!0,"data-svelte-h":!0}),G(p)!=="svelte-wd0jg2"&&(p.innerHTML=N),D.forEach(b),P.forEach(b),this.h()},h(){l(a,"class","modal-header"),l(n,"for","title"),l(n,"class","form-label"),l(u,"type","text"),ae(u,"color","black"),l(u,"class","form-control"),l(u,"id","title"),l(u,"placeholder","Type in Markdown"),l(r,"class","mb-3"),l(E,"for","content"),l(E,"class","form-label"),ae(T,"color","black"),l(T,"class","form-control"),l(T,"id","content"),l(T,"rows","10"),l(T,"placeholder","Type in Markdown"),l(w,"class","mb-3"),l(g,"for","front-area"),l(g,"class","form-label"),L.__value="",z(L,L.__value),L.disabled=!0,L.selected=!0,l(M,"class","form-select"),ae(M,"color","black"),l(M,"aria-label","Select template"),c[2]===void 0&&Oe(()=>c[7].call(M)),l(f,"class","mb-3"),l(o,"class","modal-body"),l(p,"class","modal-footer")},m(C,P){j(C,e,P),d(e,a),d(e,s),d(e,i),d(i,o),d(o,r),d(r,n),d(r,$),d(r,u),z(u,c[0]),d(o,k),d(o,w),d(w,E),d(w,y),d(w,T),z(T,c[1]),d(o,m),d(o,f),d(f,g),d(f,B),d(f,M),d(M,L);for(let D=0;D<S.length;D+=1)S[D]&&S[D].m(M,null);ve(M,c[2],!0),d(i,W),d(i,p),J||(Z=[K(u,"input",c[5]),K(T,"input",c[6]),K(M,"change",c[7]),K(i,"submit",Ce(c[4]))],J=!0)},p(C,[P]){if(P&1&&u.value!==C[0]&&z(u,C[0]),P&2&&z(T,C[1]),P&8){q=Y(C[3]);let D;for(D=0;D<q.length;D+=1){const U=ye(C,q,D);S[D]?S[D].p(U,P):(S[D]=$e(U),S[D].c(),S[D].m(M,null))}for(;D<S.length;D+=1)S[D].d(1);S.length=q.length}P&12&&ve(M,C[2])},i:Q,o:Q,d(C){C&&b(e),fe(S,C),J=!1,De(Z)}}}function He(c,e,a){let t="",s="",i="";async function o(){const k="/notebooks/"+i+"/",w={title:t,content:s,notebook_ref:k};console.log(JSON.stringify(w));try{(await fetch("http://127.0.0.1:8000/notes/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(w)})).ok?console.log("Form submitted successfully!"):console.error("Failed to submit form")}catch(E){console.error("An error occurred while submitting the form:",E)}}let r=[];async function n(){try{const k=await fetch("http://127.0.0.1:8000/users/1/notebooks/",{method:"GET",headers:{"Content-Type":"application/json"}});if(k.ok){const w=await k.json();a(3,r=w.notebooks)}else console.error("Failed decks")}catch(k){console.error("An error occurred while getting decks: ",k)}}Me(n);function h(){t=this.value,a(0,t)}function $(){s=this.value,a(1,s)}function u(){i=Se(this),a(2,i),a(3,r)}return[t,s,i,r,o,h,$,u]}class Pe extends he{constructor(e){super(),pe(this,e,He,Ae,ue,{})}}function je(c){let e,a,t='<h5 class="modal-title" id="exampleModalLabel">Add notebook</h5>',s,i,o,r,n,h,$,u="Name",k,w,E='<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button> <button type="submit" class="btn btn-primary" data-bs-dismiss="modal">Save changes</button>',V,y;return{c(){e=v("div"),a=v("div"),a.innerHTML=t,s=x(),i=v("form"),o=v("div"),r=v("div"),n=v("input"),h=x(),$=v("label"),$.textContent=u,k=x(),w=v("div"),w.innerHTML=E,this.h()},l(T){e=_(T,"DIV",{});var m=I(e);a=_(m,"DIV",{class:!0,"data-svelte-h":!0}),G(a)!=="svelte-rbbu23"&&(a.innerHTML=t),s=A(m),i=_(m,"FORM",{});var f=I(i);o=_(f,"DIV",{class:!0});var g=I(o);r=_(g,"DIV",{class:!0});var O=I(r);n=_(O,"INPUT",{type:!0,class:!0,id:!0,placeholder:!0,style:!0}),h=A(O),$=_(O,"LABEL",{for:!0,style:!0,"data-svelte-h":!0}),G($)!=="svelte-125df89"&&($.textContent=u),O.forEach(b),g.forEach(b),k=A(f),w=_(f,"DIV",{class:!0,"data-svelte-h":!0}),G(w)!=="svelte-12doy0k"&&(w.innerHTML=E),f.forEach(b),m.forEach(b),this.h()},h(){l(a,"class","modal-header"),l(n,"type","text"),l(n,"class","form-control"),l(n,"id","floatingInput"),l(n,"placeholder","name"),ae(n,"color","black"),l($,"for","floatingInput"),ae($,"color","black"),l(r,"class","form-floating mb-3"),l(o,"class","modal-body"),l(w,"class","modal-footer")},m(T,m){j(T,e,m),d(e,a),d(e,s),d(e,i),d(i,o),d(o,r),d(r,n),z(n,c[0]),d(r,h),d(r,$),d(i,k),d(i,w),V||(y=[K(n,"input",c[2]),K(i,"submit",Ce(c[1]))],V=!0)},p(T,[m]){m&1&&n.value!==T[0]&&z(n,T[0])},i:Q,o:Q,d(T){T&&b(e),V=!1,De(y)}}}function Be(c,e,a){let t="";async function s(){const r={name:t,owner:"/users/1/"};console.log(JSON.stringify(r));try{(await fetch("http://127.0.0.1:8000/notebooks/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)})).ok?console.log("Form submitted successfully!"):console.error("Failed to submit form")}catch(n){console.error("An error occurred while submitting the form:",n)}}function i(){t=this.value,a(0,t)}return[t,s,i]}class Fe extends he{constructor(e){super(),pe(this,e,Be,je,ue,{})}}function Ee(c,e,a){const t=c.slice();return t[6]=e[a],t}function we(c,e,a){const t=c.slice();return t[4]=e[a],t}function Ue(c){let e,a="<h3>Cargando..</h3>";return{c(){e=v("div"),e.innerHTML=a},l(t){e=_(t,"DIV",{"data-svelte-h":!0}),G(e)!=="svelte-go11p4"&&(e.innerHTML=a)},m(t,s){j(t,e,s)},p:Q,i:Q,o:Q,d(t){t&&b(e)}}}function Je(c){let e,a,t=Y(c[0]),s=[];for(let o=0;o<t.length;o+=1)s[o]=Te(Ee(c,t,o));const i=o=>R(s[o],1,1,()=>{s[o]=null});return{c(){e=v("div");for(let o=0;o<s.length;o+=1)s[o].c();this.h()},l(o){e=_(o,"DIV",{class:!0,id:!0});var r=I(e);for(let n=0;n<s.length;n+=1)s[n].l(r);r.forEach(b),this.h()},h(){l(e,"class","accordion"),l(e,"id","accordionPanelsStayOpenExample")},m(o,r){j(o,e,r);for(let n=0;n<s.length;n+=1)s[n]&&s[n].m(e,null);a=!0},p(o,r){if(r&9){t=Y(o[0]);let n;for(n=0;n<t.length;n+=1){const h=Ee(o,t,n);s[n]?(s[n].p(h,r),F(s[n],1)):(s[n]=Te(h),s[n].c(),F(s[n],1),s[n].m(e,null))}for(me(),n=t.length;n<s.length;n+=1)i(n);be()}},i(o){if(!a){for(let r=0;r<t.length;r+=1)F(s[r]);a=!0}},o(o){s=s.filter(Boolean);for(let r=0;r<s.length;r+=1)R(s[r]);a=!1},d(o){o&&b(e),fe(s,o)}}}function Ie(c){let e,a,t,s,i,o,r;t=new xe({props:{source:c[4].title}});function n(){return c[5](c[4])}return{c(){e=v("a"),a=v("div"),ee(t.$$.fragment),s=x(),this.h()},l(h){e=_(h,"A",{class:!0,"aria-current":!0});var $=I(e);a=_($,"DIV",{class:!0});var u=I(a);te(t.$$.fragment,u),u.forEach(b),s=A($),$.forEach(b),this.h()},h(){l(a,"class","d-flex w-100 justify-content-between"),l(e,"class","list-group-item list-group-item-action active card-view svelte-1ab66qd"),l(e,"aria-current","true")},m(h,$){j(h,e,$),d(e,a),oe(t,a,null),d(e,s),i=!0,o||(r=K(e,"click",n),o=!0)},p(h,$){c=h;const u={};$&1&&(u.source=c[4].title),t.$set(u)},i(h){i||(F(t.$$.fragment,h),i=!0)},o(h){R(t.$$.fragment,h),i=!1},d(h){h&&b(e),le(t),o=!1,r()}}}function Te(c){let e,a,t,s=c[6].notebook.name+"",i,o,r,n,h,$,u,k,w,E,V=Y(c[6].notes),y=[];for(let m=0;m<V.length;m+=1)y[m]=Ie(we(c,V,m));const T=m=>R(y[m],1,1,()=>{y[m]=null});return{c(){e=v("div"),a=v("h2"),t=v("button"),i=re(s),n=x(),h=v("div"),$=v("div"),u=v("div");for(let m=0;m<y.length;m+=1)y[m].c();w=x(),this.h()},l(m){e=_(m,"DIV",{class:!0});var f=I(e);a=_(f,"H2",{class:!0});var g=I(a);t=_(g,"BUTTON",{class:!0,type:!0,"data-bs-toggle":!0,"data-bs-target":!0,"aria-expanded":!0,"aria-controls":!0});var O=I(t);i=ie(O,s),O.forEach(b),g.forEach(b),n=A(f),h=_(f,"DIV",{id:!0,class:!0});var B=I(h);$=_(B,"DIV",{class:!0});var M=I($);u=_(M,"DIV",{class:!0});var L=I(u);for(let H=0;H<y.length;H+=1)y[H].l(L);L.forEach(b),M.forEach(b),B.forEach(b),w=A(f),f.forEach(b),this.h()},h(){l(t,"class","accordion-button"),l(t,"type","button"),l(t,"data-bs-toggle","collapse"),l(t,"data-bs-target",o="#panelsStayOpen-collapse"+c[6].notebook.id),l(t,"aria-expanded","true"),l(t,"aria-controls",r="panelsStayOpen-collapse"+c[6].notebook.id),l(a,"class","accordion-header"),l(u,"class","list-group"),l($,"class","accordion-body"),l(h,"id",k="panelsStayOpen-collapse"+c[6].notebook.id),l(h,"class","accordion-collapse collapse"),l(e,"class","accordion-item")},m(m,f){j(m,e,f),d(e,a),d(a,t),d(t,i),d(e,n),d(e,h),d(h,$),d($,u);for(let g=0;g<y.length;g+=1)y[g]&&y[g].m(u,null);d(e,w),E=!0},p(m,f){if((!E||f&1)&&s!==(s=m[6].notebook.name+"")&&Ve(i,s),(!E||f&1&&o!==(o="#panelsStayOpen-collapse"+m[6].notebook.id))&&l(t,"data-bs-target",o),(!E||f&1&&r!==(r="panelsStayOpen-collapse"+m[6].notebook.id))&&l(t,"aria-controls",r),f&9){V=Y(m[6].notes);let g;for(g=0;g<V.length;g+=1){const O=we(m,V,g);y[g]?(y[g].p(O,f),F(y[g],1)):(y[g]=Ie(O),y[g].c(),F(y[g],1),y[g].m(u,null))}for(me(),g=V.length;g<y.length;g+=1)T(g);be()}(!E||f&1&&k!==(k="panelsStayOpen-collapse"+m[6].notebook.id))&&l(h,"id",k)},i(m){if(!E){for(let f=0;f<V.length;f+=1)F(y[f]);E=!0}},o(m){y=y.filter(Boolean);for(let f=0;f<y.length;f+=1)R(y[f]);E=!1},d(m){m&&b(e),fe(y,m)}}}function Re(c){let e,a,t,s,i,o,r,n,h,$,u,k,w,E,V,y,T,m,f,g,O,B,M;t=new ke({}),n=new ke({});const L=[Je,Ue],H=[];function W(p,N){return p[1]?0:1}return u=W(c),k=H[u]=L[u](c),T=new Pe({}),B=new Fe({}),{c(){e=v("button"),a=v("div"),ee(t.$$.fragment),s=re(`
        Add note`),i=x(),o=v("button"),r=v("div"),ee(n.$$.fragment),h=re(`
        Add notebook`),$=x(),k.c(),w=x(),E=v("div"),V=v("div"),y=v("div"),ee(T.$$.fragment),m=x(),f=v("div"),g=v("div"),O=v("div"),ee(B.$$.fragment),this.h()},l(p){e=_(p,"BUTTON",{type:!0,class:!0,"data-bs-toggle":!0,"data-bs-target":!0});var N=I(e);a=_(N,"DIV",{class:!0});var J=I(a);te(t.$$.fragment,J),s=ie(J,`
        Add note`),J.forEach(b),N.forEach(b),i=A(p),o=_(p,"BUTTON",{type:!0,class:!0,"data-bs-toggle":!0,"data-bs-target":!0});var Z=I(o);r=_(Z,"DIV",{class:!0});var q=I(r);te(n.$$.fragment,q),h=ie(q,`
        Add notebook`),q.forEach(b),Z.forEach(b),$=A(p),k.l(p),w=A(p),E=_(p,"DIV",{class:!0,id:!0,tabindex:!0,"aria-labelledby":!0,"aria-hidden":!0});var S=I(E);V=_(S,"DIV",{class:!0});var C=I(V);y=_(C,"DIV",{class:!0});var P=I(y);te(T.$$.fragment,P),P.forEach(b),C.forEach(b),S.forEach(b),m=A(p),f=_(p,"DIV",{class:!0,id:!0,tabindex:!0,"aria-labelledby":!0,"aria-hidden":!0});var D=I(f);g=_(D,"DIV",{class:!0});var U=I(g);O=_(U,"DIV",{class:!0});var X=I(O);te(B.$$.fragment,X),X.forEach(b),U.forEach(b),D.forEach(b),this.h()},h(){l(a,"class","d-flex align-items-center"),l(e,"type","button"),l(e,"class","btn btn-primary"),l(e,"data-bs-toggle","modal"),l(e,"data-bs-target","#exampleModal"),l(r,"class","d-flex align-items-center"),l(o,"type","button"),l(o,"class","btn btn-primary"),l(o,"data-bs-toggle","modal"),l(o,"data-bs-target","#notebookModal"),l(y,"class","modal-content"),l(V,"class","modal-dialog"),l(E,"class","modal fade"),l(E,"id","exampleModal"),l(E,"tabindex","-1"),l(E,"aria-labelledby","exampleModalLabel"),l(E,"aria-hidden","true"),l(O,"class","modal-content"),l(g,"class","modal-dialog"),l(f,"class","modal fade"),l(f,"id","notebookModal"),l(f,"tabindex","-1"),l(f,"aria-labelledby","notebookModal"),l(f,"aria-hidden","true")},m(p,N){j(p,e,N),d(e,a),oe(t,a,null),d(a,s),j(p,i,N),j(p,o,N),d(o,r),oe(n,r,null),d(r,h),j(p,$,N),H[u].m(p,N),j(p,w,N),j(p,E,N),d(E,V),d(V,y),oe(T,y,null),j(p,m,N),j(p,f,N),d(f,g),d(g,O),oe(B,O,null),M=!0},p(p,[N]){let J=u;u=W(p),u===J?H[u].p(p,N):(me(),R(H[J],1,1,()=>{H[J]=null}),be(),k=H[u],k?k.p(p,N):(k=H[u]=L[u](p),k.c()),F(k,1),k.m(w.parentNode,w))},i(p){M||(F(t.$$.fragment,p),F(n.$$.fragment,p),F(k),F(T.$$.fragment,p),F(B.$$.fragment,p),M=!0)},o(p){R(t.$$.fragment,p),R(n.$$.fragment,p),R(k),R(T.$$.fragment,p),R(B.$$.fragment,p),M=!1},d(p){p&&(b(e),b(i),b(o),b($),b(w),b(E),b(m),b(f)),le(t),le(n),H[u].d(p),le(T),le(B)}}}function qe(c,e,a){let t,s;_e(c,ge,h=>a(0,t=h));let i=Le(!1);_e(c,i,h=>a(1,s=h));function o(h){Ne(`/dashboard/notes/${h}`)}Me(async function(){const u=await(await fetch("http://127.0.0.1:8000/users/1/notebooks/")).json();ge.set([]);const k=u.notebooks;console.log(u),Object.keys(k).forEach(w=>{r(k[w].id)}),i.set(!0)});async function r(h){const $=`http://localhost:8000/notebooks/${h}/notes/`,k=await(await fetch($)).json();console.log(k),t.push(k)}return[t,s,i,o,r,h=>o(h.id)]}class et extends he{constructor(e){super(),pe(this,e,qe,Re,ue,{})}}export{et as component};
